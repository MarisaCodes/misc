---
import Banner from "../components/Banner";
import Card from "../components/Card.jsx";
import Carousel from "../components/carousel/Carousel";
import CarouselCell from "../components/carousel/CarouselCell.astro";
import Message from "../components/Message";
import Home from "../components/page-comps/Home";
import Layout from "../layouts/Layout.astro";

const haikus = await Astro.glob("../content/haiku/*.md");
const miscPosts = await Astro.glob("../content/misc/*.md");
const stories = await Astro.glob("../content/short-stories/*.md");
const animes = await Astro.glob("../content/anime/*.md");
---

<Layout>
  <Home client:load>
    <Banner client:load />
    <Message client:load header="Checkout anime posts">
      <Carousel client:load>
        {
          animes.map((anime) => {
            const { title, href, thumbnail } = anime.frontmatter;
            const { Content } = anime;

            return (
              <CarouselCell>
                <Card
                  title={title}
                  href={href}
                  thumbnail={thumbnail}
                  client:load
                >
                  <Content />
                </Card>
              </CarouselCell>
            );
          })
        }
      </Carousel>
    </Message>

    <Message client:load header="Check out haikus!">
      <Carousel client:load>
        {
          haikus.map((haiku) => {
            const { title, href } = haiku.frontmatter;
            const { Content } = haiku;

            return (
              <CarouselCell>
                <Card title={title} href={href} client:load>
                  <Content />
                </Card>
              </CarouselCell>
            );
          })
        }
      </Carousel>
    </Message>

    <Message client:load header="Checkout misc discussions">
      <Carousel client:load>
        {
          miscPosts.map(({ frontmatter, Content }) => {
            const { thumbnail, href, title } = frontmatter;

            return (
              <CarouselCell>
                <Card
                  title={title}
                  href={href}
                  thumbnail={thumbnail}
                  client:load
                >
                  <Content />
                </Card>
              </CarouselCell>
            );
          })
        }
      </Carousel>
    </Message>

    <Message client:load header="Checkout short stories">
      <Carousel client:load>
        {
          stories.map(({ frontmatter, Content }) => {
            const { title, href } = frontmatter;
            return (
              <CarouselCell>
                <Card title={title} href={href} client:load>
                  <Content />
                </Card>
              </CarouselCell>
            );
          })
        }
      </Carousel>
    </Message>
    <div class="section">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi est maiores
      ullam accusamus voluptate iusto, soluta nostrum optio officia. Laborum
      voluptates numquam beatae, voluptate suscipit deserunt dolor eos nam
      voluptatem culpa, nostrum earum reprehenderit delectus minus quasi quia
      cum explicabo, et excepturi. Et voluptate in error temporibus facere ex
      molestiae aspernatur, cumque, itaque voluptatum autem? Autem unde animi
      cum quo minima deserunt pariatur reprehenderit incidunt odio? Optio
      doloribus eligendi quam molestiae! Asperiores minus soluta necessitatibus
      corporis dolorum quia cumque eius vero non at cupiditate excepturi harum
      est, sunt dignissimos perspiciatis assumenda consectetur ab ex quae fugit
      sequi laboriosam ratione dolore?
    </div>
  </Home>
</Layout>
